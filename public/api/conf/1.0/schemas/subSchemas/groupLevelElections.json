{
  "description": "Details of the calculation elections made by the group",
  "type": "object",
  "properties": {
    "groupRatio": {
      "type": "object",
      "properties": {
        "isElected": {
          "description": "Indicate if the group has elected to use the group ratio calculation. If this is false then fixed ratio is used",
          "type": "boolean"
        },
        "groupRatioBlended": {
          "type": "object",
          "properties": {
            "isElected": {
              "description": "Indicate if the group has elected to use the group ratio blended calculation. Can only be elected if group ratio is elected",
              "type": "boolean"
            },
            "investorGroups": {
              "description": "List the investor groups to which the group ratio blended election relates. Can only be supplied if group ratio blended is elected",
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "object",
                "properties": {
                  "groupName": {
                    "description": "Name of the investor group",
                    "type": "string",
                    "minLength": 1
                  },
                  "elections": {
                    "description": "The elections made by this investor group",
                    "type": "array",
                    "maxItems": 5,
                    "items": {
                      "type": "string",
                      "enum": [
                        "groupRatioBlended",
                        "groupEbitdagroupEBITDA",
                        "interestAllowanceAlternativeCalculation",
                        "interestAllowanceNonConsolidatedInvestment",
                        "interestAllowanceConsolidatedPartnership"
                      ]
                    }
                  }
                },
                "required": [
                  "groupName"
                ],
                "additionalProperties": false
              }
            }
          },
          "required": [
            "isElected"
          ],
          "additionalProperties": false
        },
        "groupEBITDAChargeableGains": {
          "description": "Indicate if the group has elected to use the group EBITDA chargeable gains election. Can only be elected if group ratio is elected",
          "type": "boolean"
        }
      },
      "required": [
        "isElected"
      ],
      "additionalProperties": false
    },
    "interestAllowanceAlternativeCalculation": {
      "description": "Indicate if the group has elected to use the Interest Allowance Alternative Calculation election",
      "type": "boolean"
    },
    "interestAllowanceNonConsolidatedInvestment": {
      "type": "object",
      "properties": {
        "isElected": {
          "description": "Indicate if the group has elected to use the Interest Allowance Non-Consolidated Investment election",
          "type": "boolean"
        },
        "nonConsolidatedInvestments": {
          "description": "List the investors",
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "properties": {
              "investmentName": {
                "description": "Investor name",
                "type": "string",
                "minLength": 1
              }
            },
            "required": [
              "investmentName"
            ],
            "additionalProperties": false
          }
        }
      },
      "required": [
        "isElected"
      ],
      "additionalProperties": false
    },
    "interestAllowanceConsolidatedPartnership": {
      "type": "object",
      "properties": {
        "isElected": {
          "description": "Indicate if the group has elected to use the Interest Allowance Consolidated Partnership election",
          "type": "boolean"
        },
        "consolidatedPartnerships": {
          "description": "List the partnerships",
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "properties": {
              "partnershipName": {
                "description": "Partnership name",
                "type": "string",
                "minLength": 1
              },
              "sautr": {
                "$ref": "../definitions/definitions.json#/definitions/sautr"
              }
            },
            "required": [
              "partnershipName"
            ],
            "additionalProperties": false
          }
        }
      },
      "required": [
        "isElected"
      ],
      "additionalProperties": false
    }
  },
  "required": [
    "groupRatio",
    "interestAllowanceAlternativeCalculation",
    "interestAllowanceNonConsolidatedInvestment",
    "interestAllowanceConsolidatedPartnership"
  ],
  "additionalProperties": false
}
